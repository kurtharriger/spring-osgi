<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:osgi="http://www.springframework.org/schema/osgi"
	xmlns:osgix="http://www.springframework.org/schema/osgi-compendium"
	xmlns:util="http://www.springframework.org/schema/util"
	xsi:schemaLocation="
		http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
		http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd
		http://www.springframework.org/schema/osgi http://www.springframework.org/schema/osgi/spring-osgi.xsd
		http://www.springframework.org/schema/osgi-compendium http://www.springframework.org/schema/osgi-compendium/spring-osgi-compendium.xsd"
	default-lazy-init="true">

	<!-- simple -->
	<osgix:managed-service-factory id="simple" factory-pid="my.pid" interface="java.lang.Object">
		<bean class="java.lang.Object"/>
    </osgix:managed-service-factory>

	<!-- ccl specified -->
	<osgix:managed-service-factory id="ccl" factory-pid="my.pid" auto-export="all-classes" context-class-loader="service-provider">
		<osgix:interfaces>
			<value>java.util.Map</value>
		</osgix:interfaces>
		<bean class="java.util.HashMap"/>
    </osgix:managed-service-factory>

	<!-- update strategy specified --> 
	<osgix:managed-service-factory id="update" factory-pid="my.pid" update-strategy="container-managed" update-method="update">
		<bean class="java.lang.Object"/>
    </osgix:managed-service-factory>
   
</beans>